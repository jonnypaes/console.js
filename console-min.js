!function(){let e=!1,t=0;const n=(()=>{const e=new Map(location.search.slice(1).split("&").filter(e=>e).map(e=>{const[t,n]=e.split("=");return[t,void 0!==n&&decodeURIComponent(n)]}));return t=>e.get(t)??!1})(),o="true"===n("console"),i=(n("link"),{log:{emoji:"ðŸŸ¢",border:"#4CAF50"},warn:{emoji:"ðŸŸ¡",border:"#FFEB3B"},error:{emoji:"ðŸ”´",border:"#F44336"},info:{emoji:"ðŸ”µ",border:"#2196F3"},debug:{emoji:"âšª",border:"#FFFFFF"}}),l={margin:"0",padding:"0",overflowX:"hidden",height:"100vh"},c={marginTop:"15px",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",position:"fixed",bottom:"0",zIndex:"9999"},r={backgroundColor:"#444",height:"15px",cursor:"grab",width:"100%"},s={display:"flex",flexDirection:"column",fontFamily:"Arial, sans-serif",width:"100%",backgroundColor:"#282828",color:"white",padding:"10px",boxSizing:"border-box",overflowY:"scroll",height:"50%"},d={display:"flex",flexDirection:"column",background:"rgba(255, 255, 255, 0.1)",padding:"10px",margin:"5px 0",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"};if(o){try{const b=console.log,y=console.warn,x=console.error,w=console.debug;let E=[],v=!1;function a(e,t){v?u(e,t):E.push({msg:e,type:t})}function p(){v=!0,E.forEach(({msg:e,type:t})=>u(e,t)),E=[]}console.log=function(...e){b.apply(console,e),a(e.join(" "),"log")},console.warn=function(...e){y.apply(console,e),a(e.join(" "),"warn")},console.error=function(...e){x.apply(console,e);const t=e[0];t instanceof Error?a(t,"error"):a(String(t),"error")},console.info=function(...e){w.apply(console,e),a(e.join(" "),"info")},console.debug=function(...e){w.apply(console,e),a(e.join(" "),"debug")}}catch(C){console.error("Error setting up debug console:",C)}function m(e,t){const n=new Proxy(t,{set:(t,n,o)=>(n in e.style?e.style[n]=o:console.warn(`Invalid CSS property: ${n}`),!0)});Object.assign(n,t)}function u(e,t){const n=document.createElement("div");n.classList.add("consoleEntry",t),m(n,d);const{emoji:o,border:l}=i[t]||{emoji:"",border:"#000"};n.style.borderLeft=`5px solid ${l}`;const c=document.createElement("span");if(c.classList.add("emoji"),c.textContent=o,"error"===t&&e instanceof Error){const t=document.createElement("div");t.style.fontWeight="bold",t.appendChild(c),t.appendChild(document.createTextNode(` ${e.name}: ${e.message}`));const o=document.createElement("div");o.style.paddingLeft="20px",o.style.whiteSpace="pre-line",o.style.fontSize="0.9em",o.style.color="#ccc";const i=function(e){const t=(e.stack||"").split("\n"),n=[],o=/^\s*at\s+(?:(.*?)\s+\()?\/?(.+?):(\d+):(\d+)\)?$/,i=/^(?:(.*?)\*?@)?\/?(.+?):(\d+):(\d+)$/;for(let l=t[0]?.startsWith("Error:")?1:0;l<t.length;l++){let c=t[l].trim();if(!c)continue;let r=c.match(o)||c.match(i);if(r){let t=r[1]?.trim()||"<anonymous>",o=f(r[2].trim()),i=o.split("/").pop(),l=parseInt(r[3],10),c=parseInt(r[4],10),s=e.fileName?e.fileName.split("?")[0]:o;n.push({functionName:t,fileName:i,fullFile:s,lineNumber:l,columnNumber:c})}}return n}(e),l=document.createElement("div");l.className="stack-container",document.body.appendChild(l);const r=document.createElement("table");r.className="stack-table",r.style.borderCollapse="collapse",r.style.width="100%",r.style.fontFamily="sans-serif";const s=document.createElement("tr");["Function","File","Line","Column"].forEach(e=>{const t=document.createElement("th");t.textContent=e,t.style.fontWeight="bold",t.style.backgroundColor="#f4f4f4",t.style.padding="8px 12px",t.style.display="none",s.appendChild(t)}),r.appendChild(s),i.forEach(e=>{const t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.functionName;const o=document.createElement("td"),i=document.createElement("a");i.href=e.fullFile,i.textContent=e.fileName,i.style.textDecoration="none",i.style.color="royalblue",i.style.cursor="pointer",i.onclick=t=>{var n,o;t.preventDefault(),n=e.fullFile,o=e.lineNumber,fetch(n).then(e=>{let t=e.headers.get("Content-Type");if(!e.ok)throw new Error(`Failed to fetch: ${e.statusText}`);return t.includes("application/json")?e.json():t.includes("text/html")||t.includes("text/css")||t.includes("text/javascript")||t.includes("application/javascript")?e.text():t.includes("image")?e.blob():e.arrayBuffer()}).then(e=>{let t;t="object"!=typeof e||e instanceof Blob?e instanceof Blob?URL.createObjectURL(e):e:JSON.stringify(e,null,2),function(e,t){const n=e.split("\n");let o='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8">';o+="<title>View Source</title>",o+='<meta content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content" name="viewport"/>',o+="<style>",o+="body { font-family: -moz-fixed; font-weight: normal; white-space: pre; background-color: #ffffff; color: #000000; padding: 12px; margin: 0; }",o+="@media (prefers-color-scheme: dark) { body { background-color: #333333; color: #ffffff; } }",o+="span:not(.error), a:not(.error) { unicode-bidi: embed; }",o+="span[id] { display: block; }",o+="#viewsource { font-family: -moz-fixed; font-weight: normal; white-space: pre; }",o+=":root { color-scheme: light dark; direction: ltr; }",o+=".line-number { color: #888; margin-right: 1ch; }",o+=".highlight-line { background-color: darkgoldenrod; }",o+='</style></head><body id="viewsource">',n.forEach((e,n)=>{const i=n+1,l=i===t?"highlight-line":"",c=e.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]));o+=`<span id="L${i}"><span class="line-number">${i}</span><span class="line-content ${l}">${String(c)}</span></span>\n`}),o+="</body></html>";const i=new Blob([o],{type:"text/html"}),l=URL.createObjectURL(i);window.open(l+"#L"+t,"_blank")}(t,o)}).catch(e=>console.error("Error fetching file:",e))},o.appendChild(i);const l=document.createElement("td");l.textContent=e.lineNumber;const c=document.createElement("td");c.textContent=e.columnNumber,[n,o,l,c].forEach(e=>{e.style.padding="8px 12px",e.style.border="none",t.appendChild(e)}),r.appendChild(t)}),l.appendChild(r),o.appendChild(l),n.appendChild(t),n.appendChild(o)}else{const t=document.createElement("div");t.classList.add("console-message"),t.appendChild(c),t.appendChild(document.createTextNode(` ${e}`)),n.appendChild(t)}document.getElementById("consoleOutput").appendChild(n)}function f(e){if(!e)return"";let t=e.split("?")[0].replace(/^\/+/,"").replace(/\/$/,"");return/^(https?:\/\/|file:\/\/)/.test(t)?t:window.location.origin+"/"+t}function h(n){e=!0,t=n.clientY||n.touches[0].clientY,document.body.style.cursor="grabbing"}function g(){e=!1,document.body.style.cursor="default"}window.addEventListener("load",()=>{!function(){m(document.body,l);const n=document.createElement("div");n.id="frameContainer",m(n,c);const o=document.createElement("div");o.id="resizeHandle",m(o,r);const i=document.createElement("div");function d(n){if(!e)return;const l=n.clientY||n.touches[0].clientY,c=l-t,r=i.clientHeight-c,s=window.screen.height;r>50&&r<s-100&&(i.style.height=`${r}px`),t=l;const d=l;o.style.top=`${d}px`}i.id="consoleOutput",m(i,s),n.appendChild(o),n.appendChild(i),document.body.appendChild(n),i.style.height=window.screen.height/3+"px",o.addEventListener("mousedown",h),document.addEventListener("mousemove",d,{passive:!0}),document.addEventListener("mouseup",g),o.addEventListener("touchstart",h,{passive:!0}),document.addEventListener("touchmove",t=>{e&&(t.preventDefault(),d(t))},{passive:!0}),document.addEventListener("touchend",g,{passive:!0})}(),p()}),console.debug("Welcome to console.js!")}}();